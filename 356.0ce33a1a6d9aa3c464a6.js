"use strict";(self.webpackChunkangular_recipe_book=self.webpackChunkangular_recipe_book||[]).push([[356],{1356:(v,c,a)=>{a.r(c),a.d(c,{AuthModule:()=>Z});var s=a(665),d=a(4466),l=a(266),n=a(639),u=a(6382),g=a(8583);let m=(()=>{class t{constructor(){this.message="",this.close=new n.vpe}ngOnInit(){}onClose(){this.close.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-alert"]],inputs:{message:"message"},outputs:{close:"close"},decls:7,vars:1,consts:[[1,"backdrop",3,"click"],[1,"alert-box"],[1,"alert-box-actions"],[1,"btn","btn-primary",3,"click"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0),n.NdJ("click",function(){return o.onClose()}),n.qZA(),n.TgZ(1,"div",1),n.TgZ(2,"p"),n._uU(3),n.qZA(),n.TgZ(4,"div",2),n.TgZ(5,"button",3),n.NdJ("click",function(){return o.onClose()}),n._uU(6,"Close"),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(3),n.Oqu(o.message))},styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000000bf;z-index:1;cursor:pointer}.alert-box[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;min-width:50%;transform:translate(-50%,-50%);padding:15px;z-index:2;background-color:#fff;box-shadow:0 2px 8px #00000042}.alert-box-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),t})(),f=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-loading-spinner"]],decls:7,vars:0,consts:[[1,"backdrop"],[1,"spinner"],[1,"lds-ring"]],template:function(e,o){1&e&&(n._UZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n._UZ(3,"div"),n._UZ(4,"div"),n._UZ(5,"div"),n._UZ(6,"div"),n.qZA(),n.qZA())},styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000000bf;z-index:1}.spinner[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;z-index:2}.lds-ring[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #fff;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#fff transparent transparent transparent}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.15s}@keyframes lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),t})();const h=["authForm"];function _(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"app-alert",13),n.NdJ("close",function(){return n.CHM(e),n.oxw().onErrorAlertClose()}),n.qZA()}if(2&t){const e=n.oxw();n.Q6J("message",e.error)}}function b(t,i){1&t&&n._UZ(0,"app-loading-spinner")}const A=[{path:"",component:(()=>{class t{constructor(e,o){this.authService=e,this.router=o,this.isLoginMode=!0,this.isLoading=!1,this.error=""}ngOnInit(){}onSwitchMode(){this.isLoginMode=!this.isLoginMode}onSubmit(){if(!this.form.valid)return;const e=this.form.value.email,o=this.form.value.password;let r;this.isLoading=!0,r=this.isLoginMode?this.authService.signIn(e,o):this.authService.signUp(e,o),r.subscribe(p=>{this.form.reset(),this.isLoginMode||this.onSwitchMode(),this.isLoading=!1,this.router.navigate(["/recipes"])},p=>{this.isLoading=!1,this.error=p})}onErrorAlertClose(){this.error=""}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(u.e),n.Y36(l.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-auth"]],viewQuery:function(e,o){if(1&e&&n.Gf(h,5),2&e){let r;n.iGM(r=n.CRH())&&(o.form=r.first)}},decls:20,vars:5,consts:[[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],[3,"message","close",4,"ngIf"],[4,"ngIf"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group"],["for","email"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["for","password"],["type","password","id","password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"],[3,"message","close"]],template:function(e,o){if(1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.YNc(2,_,1,1,"app-alert",2),n.YNc(3,b,1,0,"app-loading-spinner",3),n.TgZ(4,"form",4,5),n.NdJ("ngSubmit",function(){return o.onSubmit()}),n.TgZ(6,"div",6),n.TgZ(7,"label",7),n._uU(8,"E-mail"),n.qZA(),n._UZ(9,"input",8),n.qZA(),n.TgZ(10,"div",6),n.TgZ(11,"label",9),n._uU(12,"Password"),n.qZA(),n._UZ(13,"input",10),n.qZA(),n.TgZ(14,"div"),n.TgZ(15,"button",11),n._uU(16),n.qZA(),n._uU(17," | "),n.TgZ(18,"button",12),n.NdJ("click",function(){return o.onSwitchMode()}),n._uU(19),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const r=n.MAs(5);n.xp6(2),n.Q6J("ngIf",o.error&&!o.isLoading),n.xp6(1),n.Q6J("ngIf",o.isLoading),n.xp6(12),n.Q6J("disabled",!r.valid),n.xp6(1),n.hij(" ",o.isLoginMode?"Login":"Sign Up"," "),n.xp6(3),n.hij(" Switch to ",o.isLoginMode?"Sign Up":"Login"," ")}},directives:[g.O5,s._Y,s.JL,s.F,s.Fj,s.JJ,s.On,s.Q7,s.on,s.wO,m,f],styles:[".spinner__container[_ngcontent-%COMP%]{text-align:center}"]}),t})()}];let C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[l.Bz.forChild(A)],l.Bz]}),t})(),Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[C,s.u5,d.m]]}),t})()}}]);